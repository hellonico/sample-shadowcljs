{"version":3,"sources":["quil/middlewares/deprecated_options.cljc"],"mappings":";;AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAeA;AAKf,AAAA,AAAOC,AAAuBC;AAA9B,AACE,AAAMA,AAAS,AAACC,AAAID;AAApB,AACE,AAAM,AAAAE,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAACF,AAAAA,AAAAA;;AAAP,AACE,AAAA,AAAA,AAACG;;AADH;;AAGA,AAAA,AAACC,AAAKJ;;AAEV;;;;AAAA,AAAMK,AAGHC;AAHH,AAIE,AAAMA,AAAQ,AAAA,AAAA,AAACC,AAAUD,AAAoBP;AAA7C,AACO,AAAAS,AAAA,AAKA,AAAC+B,AAAOC,AACR,AAAA,AAACC;AANDhC;AAAA,AAAA,AAAAC,AAAA,AAAA;;AAAA,AAAA,AAAAD,AAAAA;;AAAA,AAAA,AAAAE,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAAE;AAAA,AAAA,AAAAF,AAAAE;AAAA,AAAA,AAAA,AAAAE,AAAAJ;AAAA,AAAAK,AAg5E0C,AAAA4B,AAAAjC;AAh5E1CM,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAJ;AAAA,AAAAK,AAAA,AAAAC,AAAAP,AAAAK;AAAA,AAAAG,AAAAF,AAAA,AAAA,AAAOY;AAAP,AAAAV,AAAAF,AAAA,AAAA,AAAYa;AAAZ,AAAA,AAAA,AAAAV,AAAAN,AACE,AAAAiB,AAA2B,AAACpC,AAAAA,AAAAA,AAAWkC,AAAAA;AAAvC,AAAA,AAAAE;AAAA,AAAAC,AAAAD;AAAA,AAAAZ,AAAAa,AAAA,AAAA,AAAUE;AAAV,AAAAf,AAAAa,AAAA,AAAA,AAAkBG;AAAlB,AACE,AAAI,AAAA,AAAA,AAACnC,AAAQ6B,AAAkCK,AAAYC;;AAA3D;;AADF,AAGGN,AAAKC;;;;AAJV,AAAA,AAAAd,AAAA;;;;AAAA;;;;;AAAA,AAAAK,AAAA,AAAAC,AAAAR,AAAA,AAAAS,AAAA,AAAAC,AAAAlB;;AAAA,AAAAe,AAAA,AAAAC,AAAAR,AAAA;;;AAAA,AAAAW,AAAA,AAAAC,AAAApB;AAAA,AAAAa,AAAAM,AAAA,AAAA,AAAOI;AAAP,AAAAV,AAAAM,AAAA,AAAA,AAAYK;AAAZ,AAAA,AAAAH,AACE,AAAAI,AAA2B,AAACpC,AAAAA,AAAAA,AAAWkC,AAAAA;AAAvC,AAAA,AAAAE;AAAA,AAAAE,AAAAF;AAAA,AAAAZ,AAAAc,AAAA,AAAA,AAAUC;AAAV,AAAAf,AAAAc,AAAA,AAAA,AAAkBE;AAAlB,AACE,AAAI,AAAA,AAAA,AAACnC,AAAQ6B,AAAkCK,AAAYC;;AAA3D;;AADF,AAGGN,AAAKC;;AAJV,AAAAP,AAAA,AAAAK,AAAAtB;;;AAAA;;;;;AAAA,AAAA;;;AAAA,AAAA,AAAAD,AAAmBF","names":["quil.middlewares.deprecated-options/deprecated","quil.middlewares.deprecated-options/check-features-vector","features","cljs.core/set","G__35377","cljs.core.println.cljs$core$IFn$_invoke$arity$variadic","cljs.core.disj.cljs$core$IFn$_invoke$arity$2","quil.middlewares.deprecated-options/deprecated-options","options","cljs.core.update_in.cljs$core$IFn$_invoke$arity$3","iter__4523__auto__","s__35379","cljs.core/LazySeq","temp__5720__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4521__auto__","size__4522__auto__","cljs.core/count","b__35381","cljs.core/chunk-buffer","i__35380","vec__35391","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__35378","cljs.core/chunk-rest","vec__35397","cljs.core/first","cljs.core/cons","cljs.core/rest","name","value","temp__5718__auto__","vec__35394","vec__35400","version","message","cljs.core.remove.cljs$core$IFn$_invoke$arity$2","cljs.core/nil?","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core/chunk-first"],"sourcesContent":["(ns quil.middlewares.deprecated-options)\n\n(def ^:private deprecated\n  {:decor [\"2.0\" \"Try :features [:present] for similar effect\"]\n   :target [\"2.0\" \"Use :features [:keep-on-top] instead.\"]\n   :safe-draw-fn [\"2.0\" \"Use :features [:no-safe-fns] instead.\"]})\n\n(defn- check-features-vector [features]\n  (let [features (set features)]\n    (when (features :no-safe-draw)\n      (println \"Feature :no-safe-draw was renamed to :no-safe-fns in Quil 2.1.\"\n               \"Use :feature [:no-safe-fns] now.\"))\n    (disj features :no-safe-draw)))\n\n(defn deprecated-options\n  \"Checks if options map contains deprected options and removes them.\n  Prints messages how to fix deprecated functions.\"\n  [options]\n  (let [options (update-in options [:features] check-features-vector)]\n    (->> (for [[name value] options]\n           (if-let [[version message] (deprecated name)]\n             (do (println name \"option was removed in Quil\" version \".\" message)\n                 nil)\n             [name value]))\n         (remove nil?)\n         (into {}))))\n"]}